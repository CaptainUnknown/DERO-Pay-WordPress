{"version":3,"file":"completePurchase.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACNA,MAAMA,WAAW,GAAIC,KAAD,IAAW;EAC3BC,OAAO,CAACC,IAAR,CAAaF,KAAb;EACA,OAAO,IAAIG,QAAJ,CAAaC,IAAI,CAACC,SAAL,CAAe;IAC/BC,IAAI,EAAEN,KAAK,CAACO,IAAN,CAAWC,MADc;IAE/BC,OAAO,EAAET,KAAK,CAACO,IAAN,CAAWE;EAFW,CAAf,CAAb,CAAP;AAIH,CAND;;AAQO,MAAMC,gBAAgB,GAAG,OAAMC,QAAN,EAAgBC,MAAhB,KAA2B;EACvD,IAAIL,IAAI,GAAG;IAAC,YAAY,CAAEK,MAAF;EAAb,CAAX;EACA,IAAIC,MAAM,GAAGT,IAAI,CAACC,SAAL,CAAeE,IAAf,CAAb;EACAN,OAAO,CAACa,GAAR,CAAYC,YAAY,CAACC,KAAzB;EACA,MAAMC,QAAQ,GAAG,MAAOC,KAAK,CACxB,2DAA0DP,QAAS,QAD3C,EAEzB;IACIQ,IAAI,EAAEN,MADV;IAEIO,OAAO,EAAE;MACL,gBAAgB,kBADX;MAEL,cAAcL,YAAY,CAACC;IAFtB,CAFb;IAMIK,MAAM,EAAE;EANZ,CAFyB,CAAL,CAUnBC,KAVmB,CAUZtB,KAAD,IAAW;IACdD,WAAW,CAACC,KAAD,CAAX;EACH,CAZmB,CAAxB;;EAcA,IAAIiB,QAAQ,CAACM,EAAb,EAAiB;IACb,OAAON,QAAQ,CAACO,IAAT,EAAP;EACH,CAFD,MAEO;IACH,OAAOC,OAAO,CAACC,MAAR,CAAeT,QAAf,CAAP;EACH;AACJ,CAvBM,C","sources":["webpack://dero-rpc-bridge/webpack/bootstrap","webpack://dero-rpc-bridge/webpack/runtime/define property getters","webpack://dero-rpc-bridge/webpack/runtime/hasOwnProperty shorthand","webpack://dero-rpc-bridge/webpack/runtime/make namespace object","webpack://dero-rpc-bridge/./frontend/completePurchase.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const handleError = (error) => {\r\n    console.warn(error);\r\n    return new Response(JSON.stringify({\r\n        code: error.data.status,\r\n        message: error.data.message\r\n    }));\r\n}\r\n\r\nexport const completePurchase = async(courseID, userID) => {\r\n    let data = {\"user_ids\": [ userID ]};\r\n    let packet = JSON.stringify(data);\r\n    console.log(purchaseData.nonce);\r\n    const response = await (fetch(\r\n        `http://templisaquaria.com/wp-json/ldlms/v1/sfwd-courses/${courseID}/users`,\r\n        {\r\n            body: packet,\r\n            headers: {\r\n                'Content-Type': \"application/json\",\r\n                'X-WP-Nonce': purchaseData.nonce\r\n            },\r\n            method: \"POST\"\r\n        })\r\n        .catch((error) => {\r\n            handleError(error);\r\n        }));\r\n    \r\n    if (response.ok) {\r\n        return response.json();\r\n    } else {\r\n        return Promise.reject(response);\r\n    }\r\n}"],"names":["handleError","error","console","warn","Response","JSON","stringify","code","data","status","message","completePurchase","courseID","userID","packet","log","purchaseData","nonce","response","fetch","body","headers","method","catch","ok","json","Promise","reject"],"sourceRoot":""}